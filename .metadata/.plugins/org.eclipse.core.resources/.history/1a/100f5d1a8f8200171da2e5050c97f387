
package com.cto56.cms.web.controller;

import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.cto56.cms.web.dto.EUTreeNode;
import com.cto56.cms.web.entity.ProductCategory;
import com.cto56.cms.web.service.ProductCategoryService;

@RestController
@RequestMapping("/item/cat")
public class ProductCategoryController {

	@Autowired
	private ProductCategoryService service;

	@RequestMapping("/list")
    public List<EUTreeNode> getList(){
    	List<ProductCategory> pcs  = service.listProductCategorys();
    	List<EUTreeNode> resultList = new ArrayList<>();
    	for(ProductCategory pc : pcs){
    		EUTreeNode node = new EUTreeNode();
    		node.setId(pc.getId());
    		node.setText(pc.getName());
    		node.setState(pc.getStatus().equals("1")?"closed":"open");
    	}
    	return resultList;
    }

}
